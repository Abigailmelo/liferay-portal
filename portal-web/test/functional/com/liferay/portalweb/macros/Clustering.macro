definition {
	@description = "This will get the log content for a specific clustered server bundle"
	macro getLogFileSpecificServer {
		AntCommand(
			locator1 = "build-test.xml",
			value1 = "copy-cluster-log -Dapp.server.bundle.index=${bundleIndex}"
		);

		var liferayHome = PropsUtil.get("liferay.home.dir.name");
		var fileContent = FileUtil.read("${liferayHome}/cluster${bundleIndex}.log");

		return "${fileContent}";
	}

	macro viewClusterStatusInConsole {
		AssertConsoleTextPresent(value1 = "Accepted view");

		AssertConsoleTextPresent(value1 = "com.liferay.portal.cluster.multiple");

		AssertConsoleTextPresent(value1 = "com.liferay.portal.cache.multiple");

		AssertConsoleTextPresent(value1 = "com.liferay.portal.scheduler.multiple");
	}
}